package db.test;import com.mysql.cj.jdbc.Clob;import org.junit.Test;import java.io.*;import java.sql.*;/** * @Auther: Zhou_Li * @Date: 2021/7/13 17:34 * @Description: */public class testBLob {    // @Test    // public void testInsert() throws Exception {    //     String URL="jdbc:mysql://localhost:3306/hospital?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC";    //     String USER="root";    //     String PASSWORD="123456";    //     //1.加载驱动程序    //     // Class.forName("com.mysql.jdbc.Driver");    //     //2.获得数据库链接    //     Connection conn= DriverManager.getConnection(URL, USER, PASSWORD);    //     //3.通过数据库的连接操作数据库，实现增删改查（使用Statement类）    //     PreparedStatement pst = conn.prepareStatement("insert into doctorinfo(id,icon,introduction) values(?,?,?)");    //    //     String longText ="上海市徐汇区新乐社区卫生服务中心 1975年毕业于贵阳医学院医疗系，长期以来一直在病房工作。擅长治疗消化系统呼吸系统。*1986年毕业于湖北医学院，现任上海市胸科医院心外科副主任医师。擅长心脏瓣膜病变及先天性心脏病、冠心病的外科治疗。*专业特长：呼吸道疾病、多动症、小儿发育及疑难病症。 从事儿科专业工作已数十年，具有丰富的临床实践经验和治疗技术。现任长征医院儿科主任医师、教授。尤其擅长于儿童呼吸道疾病、多动症、小儿发育及疑难病症。服务宗旨为治病救人。*乳腺疾病、甲状腺疾病 1982年毕业于上海第二医科大学医疗系，现任上海市长宁区中心医院外科颈乳组副主任医师。有丰富的乳腺和甲状腺系统疾病临床诊断与治疗经验，擅长乳腺各种肿瘤、增生和甲状腺肿瘤、甲状腺炎等疾病的诊治，并开展乳房管镜等新技术。*发表文章多篇.*上海市中医文献馆中医门诊部 顽固性咳嗽、哮喘、慢性胃肠炎、糖尿病、小儿哮喘、厌食、盗汗、荨麻疹、皮疹、带状疱疹、多类脱发 儿内科 男，1954年6月生。 1982年12月江西中医学院中医系中医专业本科毕业，获医学学士学位。1986年1月上海中医药大学研修部中医文献专业研究生毕业，获医学硕士学位。1986年2月-2001年2月上海中医药大学基础医学院从事医古文、中医文献学教学工作及中医门诊、临床带教工作。1988年6月任讲师，1992年10月晋升副教授，1998年10月晋升为教授。 1988年迄今，参加国家中医药管理局科研课题1项，参加市局级科研课题1-2项。主持市卫生局课题1项，主持校级课题2项。 1985年迄今，主编中医专著1部，参与编写中医著作、教材7部。发表中医学术论文30多篇，其中2篇获全国奖项。 大学毕业近20年，坚持参加中医门诊医疗工作，在治疗内、儿科呼吸系统疾病与消化系统疾病方面积累了较丰富的经验。此外对某些皮肤病如湿疹、荨麻疹、带状疱疹、各种脱发等疾病也颇具临床治疗心得。*擅长巨大周围动脉瘤、腹主动脉瘤、动脉体瘤及腹主动脉、周围动脉闭塞等的临床诊疗和研究，应用介入技术治疗各种周围血管疾病有较深的造诣，并在主动脉夹层动脉瘤、腹主动脉瘤治疗方面取得了重要进展。*1946年生。1968年毕业于第七军医大学军医系。1985年任整形美容科主任医师，教授。第四军医大学、军事医学科学院博士研究生导师（整形外科）。1988-1990年赴加拿大、美国留学和工作。先后在多伦多大学医学院、不列颠哥伦比亚大学医学院、麻省理工学院、哈佛大学医学院学习和工作。获加拿大和中国政府联合颁发的专家证书。先后赴美、加、奥、日、印等国出席国际外科大会、国际原子能机构学术研讨会、国际整形外科大会、国际美容外科大会，进行讲学和学术交流。　　从事整形、美容工作三十余年，施行各种整形美容、手外科及显微外科手术20000余例，从未发生过医疗事故和差错。对各种先天畸形、后天畸形及器官再造也有独到的研究和创新。对各种皮肤、软组织肿瘤均成功完成切除、修复加再造。在军内外较早提出并开展用整形康复美容技术早期修复烧伤创面，不仅治愈率达到99.2%，居军内外先进水平，而且功能与外形恢复良好。具有实施颜面（眼、耳、唇、鼻、颊颜面、颅颌整形与再造、面颈除皱）、皮肤、手足、脂肪抽吸、乳房缩小、隆乳、乳房再造等整形美容手术的丰富经验。近十余年来在整形与康复技术在烧伤创面早期修复中的应用、真皮下血管网皮肤游离移植、人组织工程皮肤的研制、复方巴豆油溶液在控制性化学烧伤中的作用机理及在保持和恢复皮肤青春中的应用、瘦素在减肥中的应用等方面获奖或取得了阶段性成果，初步应用于临床，效果满意。为解决皮肤老化和肥胖的烦恼等方面做出了贡献，赢得了声誉。　　1996年以来先后被国内两家著名院校（第四军医大学、军事医学科学院）聘为博士研究生导师。现在读博士、硕士研究生8人。研究方向：人皮肤组织工程。承担省部级重点科研项目四项，其中两项已完成并获科技进步一、二等奖，一项已基本完成，另一项正在按计划进行。受武警卫生部委托担任武警部队湖南、辽宁、江西等地整形的辅导工作，培养了一批技术骨干，并受聘为辽宁省修复重建外科学会荣誉顾问。　　 发表论文80余篇，在各种国际、国内会议报告论文100余篇。*1978年毕业后一直工作于于北京中医药大学附属东直门医院消化内科；1982年至今一直从事消化内科临床工作；1998年任硕士生导师。在著名中医专家董建华教授和田德录教授指导下从事中医内科消化专业临床以及教学工作多年。曾承担科研课题5项，其中局级课题3项，三校联合课题1项，校级课题1项。获奖4项，校级三等奖2项，二等奖1项，北京市科技进步三等奖1项。 。 在运用中医治疗消化性溃疡，急慢性胃炎，胆囊炎，胆石证，酒精性肝病，脂肪肝，肝硬化等消化系统疾病方面有较丰富的临床经验。 发表论文: 主要课题及论文名称《愈溃灵治疗十二指肠溃疡及抗复发的临床于实验研究》、《中医药治疗酒精性肝病的临床于实验研究》、《中医药治疗老年消化性溃疡病35例分析》、《运用董建华“通降法”的临床体会》、《小柴胡汤的临床运用》、《活血利水法治疗肝硬化腹水体会》、《浅谈肝硬化腹水消退后的治疗和调护》。 在国家级杂志发表论文8篇，省级杂志发表6篇，独著《脾胃病中医诊疗》一书，并担任5部著作编委。*擅长: 肾内科、血液透析 论文: 3篇 其中代表论文: 1、长期血液透析病人铝蓄积中毒的真挚 2、罗钙全冲击治疗肾性骨病。*第二军医大学附属东方肝胆外科医院 擅长腹腔镜治疗 腹腔镜室 科主任、教授、主任医师，技术6级，医学博士。从医25年，获军队医疗成果一等奖一项、军队科技进步三等奖1项。参编专著七部。擅长腹腔镜外科。*上海市浦东新区浦南医院 脑血管意外、癫痫、周围神经病变 女，1984年毕业于上海遵义医学院医疗系，现任上海市浦南医院神经内科副主任医师。曾到瑞金医院神经内科进修学习一年。擅长脑血管意外、癫痫、周围神经病变等神经内科疾病的诊断和治疗。具有电生理、脑电图检查方面经验。*擅长儿科疑难病的诊治。对乙型病毒性肝炎、病毒携带者的治疗，疗效显著。中西医结合治疗小儿呼吸道疾病、小儿肾疾病、过敏性紫癜、肾脏并发症、小儿系统性红斑狼疮等，有丰富的临床经验。发表论文40余篇。被评为市优秀医务工作者、市先进教师、市有突出贡献的专家。获市五一劳动奖章。*擅长各种肝炎、肝硬化、脂肪肝等肝脏疾病。 1977年毕业于上海中医学院，现任曙光医院肝科科主任，主任医师，学科带头人，带博士生。*上海市中医文献馆中医门诊部 顽固性咳嗽、哮喘、慢性胃肠炎、糖尿病、小儿哮喘、厌食、盗汗、荨麻疹、皮疹、带状疱疹、多类脱发 儿内科 男，1954年6月生。 1982年12月江西中医学院中医系中医专业本科毕业，获医学学士学位。1986年1月上海中医药大学研修部中医文献专业研究生毕业，获医学硕士学位。1986年2月-2001年2月上海中医药大学基础医学院从事医古文、中医文献学教学工作及中医门诊、临床带教工作。1988年6月任讲师，1992年10月晋升副教授，1998年10月晋升为教授。 1988年迄今，参加国家中医药管理局科研课题1项，参加市局级科研课题1-2项。主持市卫生局课题1项，主持校级课题2项。 1985年迄今，主编中医专著1部，参与编写中医著作、教材7部。发表中医学术论文30多篇，其中2篇获全国奖项。 大学毕业近20年，坚持参加中医门诊医疗工作，在治疗内、儿科呼吸系统疾病与消化系统疾病方面积累了较丰富的经验。此外对某些皮肤病如湿疹、荨麻疹、带状疱疹、各种脱发等疾病也颇具临床治疗心得。*擅长牙周病的系统综合治疗，高水平的治疗方法是系统调牙合及各种牙周手术。牙周炎患者的特异性抗体水平及酶学诊断指标的实验和临床研究达较高水平。*1984年毕业于上海中医药大学，系著名骨伤科专家石仰山教授学术继承人，善治颈椎病、腰椎间盘突出症、骨筋伤等疑难病症，在伤科整体调治和手法上具有一定的特点，强调内外结合、上下贯通、左右平衡的骨伤调治三要素，发表论文二十余篇，参编书籍4本，参研课题5项，其中二项获“上海市科技进步三等奖”。*肾炎、慢性肾衰、尿感及其他肾虚症；慢性胃肠炎、溃疡病、胃肠功能紊乱及内科其他疑难杂症。 主任医师、上海市名老中医。出身于中医世家。上海市中医肾病专业委员会主任委员、全国中医肾病专业委员会委员。从事中医内科临床四十多年，对外感热病和内伤伤寒杂症积累了丰富的经验。*擅长治疗月经失调（月经稀发、 闭经、功能性子宫出血、痛经、更年期综合征等）、不孕症、先兆流产、习惯性流产、女性生殖器炎症性疾病等。*擅长各种急、慢性颈、肩、腰腿痛、运动损伤以及康复治疗偏瘫、截瘫、避孕药折后功能障碍、冠心病、肺心病、手外伤后周围神经功能障碍等。 浙江省绍兴市人，1948年生。 1982年获上海医科大学医学学士，1988年获上海医科大学运动医学硕士。现任华山医院运动医学与康复医学科副主任。 胡永善教授长期从事运动医学和康复医学专业，师从国内著名运动医学和康复医学的专家范振华教授和屠丹云教授，曾得到上海中医药大学著名推拿前辈郑凤胡教授的指点，结合海外访问交流的心得，博采现代医学科学和祖国传统医学中手法治疗及静气功之精华，应用中西医结合的综合治疗方法，在治疗各种急、慢性颈、肩、腰腿痛、运动损伤以及康复治疗偏瘫、截瘫、避孕药折后功能障碍、冠心病、肺心病、手外伤后周围神经功能障碍等方面积累了丰富的临床经验，治愈和成功康复了大量中、外患者。多年来兼任医院外宾病房的特邀康复推拿医师。\n";    //     String[] intro = longText.split("\\*");    //     String picPath = "D:\\BrowserDownload\\photos\\";    //     String picName = ".jpg";    //     for(int i = 1 ; i <= 20 ; i++){    //         String pic = picPath+(i)+picName;    //         FileInputStream is = new FileInputStream(new File(pic));    //         System.out.println("id:"+i);    //         System.out.println("pic:"+pic);    //         System.out.println("intro:"+intro[i-1]);    //         pst.setInt(1,i);    //         pst.setBlob(2,is);    //         // FileInputStream inputStream = new FileInputStream(intro[i-1]);    //         // pst.setClob(3,intro[i-1]);    //         //读取 clob    //         // Reader reader = rs.getCharacterStream(intro[i-1]);    //         Reader reader = new StringReader(intro[i-1]);    //         pst.setCharacterStream(3, reader);    //         pst.execute();    //     }    //    //     //关闭资源    //     pst.close();    //     conn.close();    //     // ps.setBlob(4, is);    //     // // 执行    //     // ps.execute();    //    //    // }    @Test    public void testStr() throws Exception{        String longText ="";        String[] intro = longText.split("\\*");        for(String str : intro)            System.out.println(str);        System.out.println(intro.length);    }    @Test    public void search() throws Exception {        String URL="jdbc:mysql://localhost:3306/hospital?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC";        String USER="root";        String PASSWORD="123456";        //1.加载驱动程序        // Class.forName("com.mysql.jdbc.Driver");        //2.获得数据库链接        Connection conn= DriverManager.getConnection(URL, USER, PASSWORD);        //3.通过数据库的连接操作数据库，实现增删改查（使用Statement类）        Statement st = conn.createStatement();        ResultSet rs = st.executeQuery("select * from doctorinfo");        while(rs.next()){            int id = rs.getInt(1);            Blob blob = rs.getBlob(2);            Reader reader = rs.getCharacterStream("introduction");            BufferedReader r = new BufferedReader(reader);            StringBuffer sb = new StringBuffer();            String line;            try            {                while((line=r.readLine())!=null)                {                    sb.append(line);                    sb.append("\r\n");                }            }            catch (IOException e)            {                e.printStackTrace();            }            sb.toString();            System.out.println("id:"+id);            System.out.println("longtext:"+sb);        }        //关闭资源        st.close();        conn.close();        // ps.setBlob(4, is);        // // 执行        // ps.execute();    }}